<!-- <div class="row">
  <div class="col-md-12">
    <blockquote class="blockquote text-center">
      <p class="mb-0">Hi <strong>{{username}}</strong> Welcome to Socketiochat</p>
    </blockquote>
  </div>
</div> -->
<!-- <div class="row">
  <div class="col-md-12">
    <ul class="list-group" *ngIf="username">
      <li class="list-group-item d-flex justify-content-between align-items-center" text-center>
        Connected Users<span class="badge badge-primary badge-pill">{{onlineUsers}}</span>
      </li>
    </ul>
  </div>
</div> -->
<div class="row">
    <!-- <div class="col-md-2">
      
    
      </div> -->
      <div class="col-md-12">
        <mdb-card class="rare-wind-gradient chat-room">
          <mdb-card-body>
        
            <!-- Grid row -->
            <div class="row px-lg-2 px-2">
        
              <!-- Grid column -->
              <div class="col-md-6 col-xl-4 px-0">
        
                <h6 class="font-weight-bold mb-3 text-center text-lg-left">Connected Users &nbsp;<span class="badge badge-primary badge-pill">{{onlineUsers}}</span></h6>
                <div class="white z-depth-1 px-2 pt-3 pb-0 members-panel-1 scrollbar-light-blue">
                  <ul class="list-unstyled friend-list">
                    <div  *ngFor="let user of users">
                        <li class="grey lighten-3 p-2">
                            <a href="#" class="d-flex justify-content-between">
                              <div class="text-small">
                                <strong *ngIf="user.id != userid">{{user.username}}</strong>
                                <strong *ngIf="user.id == userid">You</strong>
                              </div>
                              <div class="chat-footer">
                              </div>
                            </a>
                          </li>
                    </div>
                    
                    
                  </ul>
                </div>
        
              </div>
              <!-- Grid column -->
        
              <!-- Grid column -->
              <div class="col-md-6 col-xl-8 pl-md-3 px-lg-auto px-0">
        
                <div class="chat-message">
        
                  <ul class="list-unstyled chat-1 scrollbar-light-blue" >
                    <div *ngFor="let message of messages">
                        <li class="d-flex justify-content-between mb-4"  *ngIf="userid == message.id">
                            <p></p>
                            <div class="chat-body white p-3 ml-2 z-depth-1">
                              <div class="header">
                                <p class="text-right"><strong class=" primary-font">You</strong></p>                          
                              </div>
                              <hr class="w-100">
                              <p class="mb-0">
                                  {{message.text}}
                              </p>
                            </div>
                          </li>
                          <li class="d-flex justify-content-between mb-4"  *ngIf="!(userid == message.id)">
                            <div class="chat-body white p-3 z-depth-1">
                              <div class="header">
                                <strong class="primary-font">{{message.username}}</strong>
                              </div>
                              <hr class="w-100">
                              <p class="mb-0">
                                  {{message.text}}
                              </p>
                            </div>
                            <p></p>
                          </li>

                    </div>
                    
                    
                  </ul>
                  <div class="white">
                    <div class="form-group basic-textarea">
                      <form [formGroup]="signupForm" >
                        <div class="md-form">
                          <textarea 
                            mdbInputDirective 
                            type="text" 
                            id="form76" 
                            class="md-textarea form-control" 
                            rows="3" 
                            formControlName="chatmessage"
                            (keyup)="sendMessage($event,userid)"
                            ></textarea>
                          <label for="form76">Enter message</label>
                        </div>
                      </form>
                    </div>
                  </div>
                  <!-- <button type="button" class="btn btn-outline-pink btn-rounded btn-sm waves-effect waves-dark float-right">Send</button> -->
        
                </div>
        
              </div>
              <!-- Grid column -->
        
            </div>
            <!-- Grid row -->
        
          </mdb-card-body>
        </mdb-card>





    </div>
</div>

<div class="row">
      <!-- <div class="col-md-2">
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Online<span class="badge badge-primary badge-pill">{{onlineUsers}}</span>
          </li>
        </ul>
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let user of users">{{ ((user.username).length>6)? (user.username | slice:0:6)+'..':(user.username) }}</li>
        </ul>
      </div> -->
      <div class="col-md-12">
         <!-- <form [formGroup]="signupForm" >
          <div class="md-form">
            <textarea 
              mdbInputDirective 
              type="text" 
              id="form76" 
              class="md-textarea form-control" 
              rows="3" 
              formControlName="chatmessage"
              (keyup)="sendMessage($event,userid)"
              ></textarea>
            <label for="form76">Enter message</label>
          </div>
        </form> -->
    </div>
</div>



<div mdbModal #frame="mdbModal" class="modal fade top" id="frameModalTop" data-keyboard="true" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true" [config]="{backdrop: true, ignoreBackdropClick: true, keyboard:false}"> 
  <!-- keyboard:false -->
  <div class="modal-dialog modal-sm modal-notify modal-info" role="document">
    <div class="modal-content text-center">
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Welcome to SocketChatIO!!</p>
      </div>

      <div class="modal-body">
        <i class="fa fa-handshake-o fa-4x animated rotateIn"></i>
      </div>

      <div class="modal-footer flex-center">
        <form [formGroup]="usernameform">
          <div class="md-form">
            <input mdbInputDirective type="text" id="Username" class="form-control" data-error="Invalid Nickname" data-success="Valid Nickname" formControlName="username">
            <label for="Username" class="">Please Enter 10 Character Nickname</label>
            <button type="button" mdbBtn color="primary" (click)="startChat()" [disabled]="!usernameform.valid" class="relative waves-light" mdbWavesEffect>Start Chatting</button>
          </div>
        </form>        
      </div>
    </div>
  </div>
</div>




